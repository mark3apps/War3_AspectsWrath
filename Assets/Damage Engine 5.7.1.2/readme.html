<h1>Damage Engine 5.7.1.2</h1>
<p>Submitted by Bribe</p>
<p>Uploaded: 05 Aug, 2011</p>
<p>Last edited: 21 Oct, 2020</p>
<p>Source:</p>
<p><a href="https://www.hiveworkshop.com/threads/damage-engine-5-7-1-2.201016/">https://www.hiveworkshop.com/threads/damage-engine-5-7-1-2.201016/</a></p>
<p>Tags: Pack, System, Template, No Target, Passive / Aura, Target Ground, Target Object, GUI / Triggers, JASS, vJASS, Lua, Reforged, Open Source</p>
<p>Filesize: 146.83 KB</p>
<h2>Damage Engine 5.7.1.2</h2>
<p>Filesize: 90.64 KB</p>
<p>Filename: Damage Engine v5.7.1.2.w3x</p>
<p>Number of players: 1</p>
<p>Recommended game:</p>
<p>Warcraft 3: Classic/Reforged (Current)</p>
<h2>Lua Damage Engine 1.0.2.3</h2>
<p>Filesize: 56.19 KB</p>
<p>Filename: Lua Damage Engine based on 5.4.2.3.w3x</p>
<p>Number of players: 1</p>
<p>Recommended game:</p>
<p>Warcraft 3: Pre-Reforged (1.31)</p>
<h2>Description</h2>
<p><span style="color: #bfbfbf">
<div class="vindit-align-center">
	<span style="font-size: 22px"><b>Damage Engine</b></span><br />
<br />
<i>Three GUI Damage systems for the community of The Hive,<br />
Seven vJass Damage systems for the JASS-heads on their pedestals high,<br />
Nine competing Damage systems, doomed to die,<br />
One for Bribe on his dark throne<br />
In the Land of the Hive where the Workshop lies.<br />
One Damage Engine to rule them all, One Damage Engine to find them,<br />
One Damage Engine to bring them all and in cross-compatibility unite them.</i><br />
</div><br />
Whether you're looking for a simple DDS (Damage Detection System), need to modify damage or even if you want a complex network of damage pre-and post-processing, this resource is for you. Damage Engine is the most adapted DDS in existence to take full advantage of the new damage detection natives, and is constantly evaluated and scrutinized by both the community and myself for performance improvements, bug fixes and new features alike.<br />
<br />
What started with humble beginnings to bring a Unit Indexer-based version of DDS to GUI users to improve on the previous standard (at the time it was Weep's GDDS) would eventually evolve to incorporate other aspects of damage systems out there. @looking_for_help had identified an extremely useful technique with negative spell resistance being used to detect spell damage, and for a time his Physical Damage Detection system became the new standard. It wouldn't be until much later when Damage Engine would resurface and use the same technique in order to be more useful for the community.<br />
<br />
Fast forward to 2020, and you'll find not only that cross-compatibility with Weep's and LFH's systems are incorporated, but the most popular DDS systems in existence - even vJass ones - are fully supported via stripped-down API wrappers. All of the functionality of prior DDS systems has been infused into Damage Engine 5.7, and as such the transition to a &quot;one size fits all&quot; DDS is complete. I hope you find this to be useful, and I also hope that it will help you in developing your map to be more dynamic what than you had previously thought possible.<br />
<br />



<div class="bbcode-tabs" data-xf-init="tabs-tag">
	<div class="titles">
		
			<h3 data-id="0" class="active">Features</h3>
		
			<h3 data-id="1" class="">Requirements</h3>
		
			<h3 data-id="2" class="">How it works</h3>
		
			<h3 data-id="3" class="">How to install/upgrade</h3>
		
			<h3 data-id="4" class="">Video Guides</h3>
		
			<h3 data-id="5" class="">FAQs</h3>
		
			<h3 data-id="6" class="">Thanks</h3>
		
	</div>
	<div class="bodies">
		
			<div data-id="0" class="active"><br />
<ul>
<li data-xf-list-type="ul"><b><u>Damage Type</u></b>, <u><b>Attack Type</b></u>, <b><u>Weapon Type</u></b>, <u><b>Armor Type</b></u> and <u><b>Defense Type</b></u> detection and modification to alter/understand the fundamentals of WarCraft 3's damage processing;</li>
<li data-xf-list-type="ul">Access to the view and change the damage amount <b><u>before</u></b> and/or after <b><u>reduction by armor</u></b>, armor type and shields.</li>
<li data-xf-list-type="ul">Fully cross-compatible with every major DDS - vJass and GUI alike.</li>
<li data-xf-list-type="ul">Correctly distribute/negate <b>Spirit Link</b> damage.</li>
<li data-xf-list-type="ul">Differentiate between <b>Ranged</b>, <b>Melee</b>, <b>Spell </b>or other types of attack.</li>
<li data-xf-list-type="ul">Does <b>not require</b> any Object Editor data nor Unit Indexer.</li>
<li data-xf-list-type="ul">As of 5.4, it is now<b> completely recursion-proof</b>.<br />
</li>
<li data-xf-list-type="ul">Other features:<ul>
<li data-xf-list-type="ul">Damage Blocking, reducing, amplifying and/or conversion to healing</li>
<li data-xf-list-type="ul">Does not require you to know nor use Jass NewGen Pack nor any custom script</li>
<li data-xf-list-type="ul">Custom DamageType association available to be set before and/or during damage event</li>
<li data-xf-list-type="ul">Detect when multiple targets were hit simultaneously via DamageEventAOE &gt; 1.</li>
<li data-xf-list-type="ul">Detect when the same unit was hit simultaneously by the same source via DamageEventLevel &gt; 1.</li>
</ul></li>
<li data-xf-list-type="ul">Detect damage: use the event &quot;<b>DamageEvent</b> Equal to 1.00&quot;. You have access to the following variables for reference:<ul>
<li data-xf-list-type="ul"><b>DamageEventSource </b>- the unit dealing the damage</li>
<li data-xf-list-type="ul"><b>DamageEventTarget</b> - the unit receiving the damage</li>
<li data-xf-list-type="ul"><b>DamageEventAmount</b> - the amount of damage the unit will receive</li>
<li data-xf-list-type="ul"><b>DamageEventPrevAmt</b> - the amount of damage prior to being modified by the game engine.</li>
<li data-xf-list-type="ul"><b>DamageEventAttackT</b> - the attack type (Chaos, Spells, Pierce, etc.)</li>
<li data-xf-list-type="ul"><b>DamageEventDamageT</b> - the damage type - <a href="https://www.hiveworkshop.com/threads/repo-in-progress-mapping-damage-types-to-their-abilities.316271/#post-3354015" class="link link--internal">for comprehensive info, click here</a>.</li>
<li data-xf-list-type="ul"><b>DamageEventWeaponT </b>- the weapon type determines if an attack plays some kind of sound on attack (ie. Metal Heavy Bash). It is always NONE for spells and almost always NONE for ranged attacks.<br />
</li>
<li data-xf-list-type="ul"><b>DamageEventArmorT </b>- the armor type (Flesh, Stone, Ethereal, etc.)</li>
<li data-xf-list-type="ul"><b>DamageEventDefenseT </b>- the defense type (Hero, Fortified, Unarmored, etc.)</li>
<li data-xf-list-type="ul"><b>DamageEventArmorPierced </b>- if DAMAGE_TYPE_NORMAL, how much armor was set to be ignored by the user.</li>
<li data-xf-list-type="ul"><b>IsDamageSpell</b>,<b> IsDamageRanged</b>,<b> IsDamageMelee</b> - determine the source category of damage dealt.<br />
</li>
<li data-xf-list-type="ul"><b>IsDamageCode </b>- Determine if the damage was dealt natively or by the user. This can give incorrect readings if the user has not identified to Damage Engine that it is code damage. Therefore I recommend setting NextDamageType prior to dealing damage.<br />
</li>
<li data-xf-list-type="ul"><b>DamageEventType </b>- An integer identifier that can be referenced by you for whatever extra differentiation you need. You can also create your own special damage types and add them to the definitions in the <b>Damage Event Config</b> trigger. If you the unit should explode on death by that damage, use a damage type integer less than 0. If you want the damage to ignore all modifications, use <b>DamageTypePure</b>.</li>
</ul></li>
<li data-xf-list-type="ul">To change damage before it's processed by the WarCraft 3 engine: use the event &quot;<b>DamageModifierEvent</b> Becomes Equal to 1.00, 2.00 or 3.00&quot;. Whether you just want to use one monolithic trigger for all damage modification like I do in the demo map, or use the different modifier events here, is up to you.<br />
</li>
<li data-xf-list-type="ul">To interact with damage after it's been factored for armor and resistances, use &quot;<b>DamageModifierEvent</b> Becomes Equal to 4.00&quot;. This is typically useful for custom shields. If you fully block or absorb <b>DamageEventAmount</b> (setting it to 0 or less), this event doesn't run.<br />
</li>
<li data-xf-list-type="ul">To set the DamageEventType before dealing triggered Damage, use:<br />
- Set NextDamageType = DamageTypeWhatever<br />
- Unit - Cause...</li>
<li data-xf-list-type="ul">You can modify the following variables from a &quot;DamageModifierEvent&quot; trigger:<ul>
<li data-xf-list-type="ul"><b>DamageEventAmount</b><br />
</li>
<li data-xf-list-type="ul"><b>DamageEventAttackT/DamageT/WeaponT/ArmorT/DefenseT</b></li>
<li data-xf-list-type="ul"><b>DamageEventArmorPierced</b></li>
<li data-xf-list-type="ul"><b>DamageEventType</b></li>
<li data-xf-list-type="ul"><b>DamageEventOverride </b>- You can set this if you want to remind yourself not to modify the damage further. If you use the UNKOWN damage type from a Unit - Damage Target native or set &quot;NextDamageType = DamageTypePure&quot; before that function, damage modification is skipped.</li>
</ul></li>
<li data-xf-list-type="ul">To catch a unit the moment before it would die from damage, use <b>LethalDamageEvent</b> Becomes Equal to 1.00. Instead of modifying the DamageEventAmount here, modify <b>LethalDamageHP</b> to let the system know how much life to keep the unit alive with. Or you can just reference that LethalDamageHP value in order to know how much &quot;overkill&quot; damage was dealt.</li>
<li data-xf-list-type="ul">To catch a unit as soon as the damage is applied against its Hit Points, use <b>AfterDamageEvent </b>Equal to 1.00.</li>
<li data-xf-list-type="ul">Usage of the &quot;&lt;Event&gt; becomes EQUAL to 1.00&quot; can be extrapolated as per the below:<ul>
<li data-xf-list-type="ul">EQUAL works as it always has - will run for any damage.</li>
<li data-xf-list-type="ul">NOT EQUAL only runs for code damage.</li>
<li data-xf-list-type="ul">LESS THAN only runs for damage from attacks but not coded attacks.</li>
<li data-xf-list-type="ul">LESS THAN OR EQUAL only runs for melee attacks but not coded attacks.</li>
<li data-xf-list-type="ul">GREATER THAN OR EQUAL only runs for ranged attacks but not coded attacks.</li>
<li data-xf-list-type="ul">GREATER THAN only runs for Spell damage but not coded spell damage.</li>
</ul></li>
</ul></div>
		
			<div data-id="1" class=""><br />
<ul>
<li data-xf-list-type="ul">Damage Engine 5 and higher requires the latest Warcraft 3 patch (currently 1.32).</li>
<li data-xf-list-type="ul"><a href="https://www.hiveworkshop.com/threads/damage-engine-5-5-0-0.201016/page-62#post-3402400" class="link link--internal">For people who did not update their game to Reforged / have not updated to Reforged yet.</a> Alternatively, adding the below JASS script to the top of the DamageEngine library SHOULD enable it to work too:<br />
<br />
<pre style="margin: 1em 0">function BlzGetEventIsAttack takes nothing returns boolean
   return BlzGetEventDamageType() == DAMAGE_TYPE_NORMAL
endfunction</pre></li>
<li data-xf-list-type="ul">I have created a Pastebin for all information pertaining to Damage Engine 3.8, including the link to download it, via: <a href="https://www.hiveworkshop.com/pastebin/894d2c076c67b006c00e4abe5fa27d0a18789/" class="link link--internal">Damage Engine 3.8.0.0 | HIVE</a>.</li>
<li data-xf-list-type="ul">As of 20 June 2020, JNGP users who are still on WarCraft 3 1.26 can benefit from Damage Engine 3A, which integrates many of the design choices added in various stages of Damage Engine 5. This is a special update which only requires the JASS script be replaced (no new GUI variables added). Can be found here: <a href="https://www.hiveworkshop.com/pastebin/894d2c076c67b006c00e4abe5fa27d0a18789/" class="link link--internal">Damage Engine 3A.0.0.0 and 3.8.0.0 | HIVE</a></li>
</ul></div>
		
			<div data-id="2" class=""><br />
<div class="bbTable">
<table style='width: 100%'><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	1
</div></span>Unit attacks or casts a spell. The pure damage is assessed at this point - damage dice, evasion, critical strike. There is currently no event to affect or modify these at source.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	2
</div></span>The projectile or weapon hits the target unit</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	3
</div></span>EVENT_UNIT_DAMAGING is fired before any modifications to the damage are made.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ ↓
</div></span></td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	↓ ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	6
</div></span>User changes to DamageEventAmount and/or to DamageEventDamageT/AttackT/WeaponT are saved into the WC3 engine.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	5
</div></span>If any recursive damage is detected from any of those events, it is postponed and the current damage will continue first.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	4
</div></span>Damage Engine deploys the DamageModifierEvents up to 3.99</td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	7
</div></span>WarCraft 3 processes the user damage.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	8
</div></span>WarCraft 3 then distributes the user damage into Spirit Link (before armor)</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	9
</div></span>WarCraft 3 runs any interrupting events, such as spirit link or defensive damage like Thorns Aura</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ ↓
</div></span></td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	↓ ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	12
</div></span>The EVENT_UNIT_DAMAGED event runs. This is the original event we have always had access to. Damage Engine will either keep using the original variables from the DAMAGING event, or if there was Spirit Link/defensive damage it will freshly retrieve the event values from WC3 and only retain DamageEventPrevAmt.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	11
</div></span>Once any potential recursive WarCraft 3 damage is processed, the armor/mana shield modifications to the damage are performed.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	10
</div></span>If such events such as Spirit Link were detected, they fire their own EVENT_UNIT_DAMAGING &amp; EVENT_UNIT_DAMAGED, and DamageEngine processes it along the way for the user.</td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	13
</div></span>If the damage is above zero, DamageModifierEvent 4.00 and up will run. If any recursive damage is detected, it is postponed.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	14
</div></span>The user can make modification to the damage here with the after-damage amount.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	15
</div></span>The user can access DamageEventPrevAmount if they want to know the damage amount before user changes/WarCraft 3 changes.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ ↓
</div></span></td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	↓ ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	18
</div></span>The user can specify whether or not to change LethalDamageHP in order to stop the unit from dying.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	17
</div></span>If the damage is still above zero, check if the damage is lethal. If so, run LethalDamageEvent 1.00. If any recursive damage is detected, it is postponed.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	← ←
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	16
</div></span>If the user wants the value that DamageEngine used to have with DamageEventPrevAmt (after WarCraft 3 processing but before user changes) they multiply DamageEventPrevAmt x DamageScalingWC3.</td></tr><tr><td><span style="font-size: 26px">
<div class="vindit-align-center">
	19
</div></span>Once all modification is done, run DamageEvent 1.00. If any recursive damage is detected, it is postponed.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	20
</div></span>After a new damage instance is detected, or the 0.00 timer expires, run AfterDamageEvent. If any recursive damage is detected, it is postponed.</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	→ →
</div></span></td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	21
</div></span>Run all potential recursive Unit - Damage Target function calls in chronological order (first in, first out).</td><td><span style="font-size: 26px">
<div class="vindit-align-center">
	√
</div></span></td></tr></table>
</div></div>
		
			<div data-id="3" class=""><br />
How to install Damage Engine:<br />
<ol>
<li data-xf-list-type="ol">Use WarCraft 3 Version 1.32<br />
</li>
<li data-xf-list-type="ol">If you're upgrading from 3.8 or prior, please delete the entire &quot;Damage Engine&quot; category from your map.<br />
</li>
<li data-xf-list-type="ol">Copy &amp; Paste the Damage Engine category from the attached map to your own map.</li>
</ol>How do I upgrade to the latest Damage Engine?<br />
- <i>Depending on the complexity, you'll either need to re-copy the Damage Engine category or just the Damage Engine script. </i>Generally, you can use this as a guide:<br />
<ul>
<li data-xf-list-type="ul">Damage Engine _._._.x - only requires copying of the JASS script</li>
<li data-xf-list-type="ul">Damage Engine _._.x._ - generally only needs copying of the JASS script, but read the patch notes in case there are changes you may want to make to your own code in order to utilize the changes.</li>
<li data-xf-list-type="ul">Damage Engine _.x._._ - delete your current Damage Engine category or manually add the missing variables to your Variable Editor, and update your JASS script.</li>
<li data-xf-list-type="ul">Damage Engine x._._._ - this occurs very infrequently. Typically requires changes to the way Damage Engine needs to be installed and used.</li>
</ul><br />
Notes about upgrading from Damage Engine 4.0 or prior:<br />
<ul>
<li data-xf-list-type="ul">Revert any custom Object Editor changes made (such as Life Drain reversal, Spell Damage Reduction inversion, etc).</li>
<li data-xf-list-type="ul">You can safely delete the custom spells &quot;Spell Damage Detection&quot; and &quot;Cheat Death Ability&quot;</li>
<li data-xf-list-type="ul">You can delete the Unit Indexer trigger if you do not use it or would prefer to use a different indexer.</li>
<li data-xf-list-type="ul">You should delete any &quot;Mana Shield fix&quot; or &quot;Finger of Death fix&quot; you may have imported, as well as revert any Object Editor data that was required to make it work, as these are no longer needed.</li>
<li data-xf-list-type="ul"><u><b>!!!DEPRECATED FEATURE!!!</b></u> As of 5.4, do not bother to take any recursive damage mitigation - Damage Engine will now handle all of that for you!<br />
</li>
<li data-xf-list-type="ul"><b><u>!!!DEPRECATED FEATURE!!!</u> </b>Do not use &quot;ClearDamageEvent&quot; - it does nothing. Just delete it.</li>
<li data-xf-list-type="ul"><b><u>!!!DEPRECATED FEATURE!!!</u> </b>Do not use &quot;NextDamageOverride&quot; - set NextDamageType = DamageTypePure instead.</li>
<li data-xf-list-type="ul"><b><u>!!!CHANGED FEATURE!!!</u> </b>If the system detects code damage and the user did not specify it as any particular DamageEvenType, the system will assign it DamageTypeCode automatically.<br />
</li>
<li data-xf-list-type="ul"><b><u>!!!CHANGED FEATURE!!!</u> </b>DamageModifierEvent 1.00-3.00 now run <i>prior</i> to armor reduction. This enables the user to modify the damage before armor and resistance changes are applied - also before Mana Shield and Anti-Magic shell kick in, so no more need for special triggers.</li>
</ul></div>
		
			<div data-id="4" class=""><br />
<b><div>Media</div><div>Media</div></b></div>
		
			<div data-id="5" class=""><br />
<ul>
<li data-xf-list-type="ul">Q: How can I detect when a unit gets damaged?</li>
<li data-xf-list-type="ul">A: Create a trigger with the event: &quot;Game - Value of Real Variable &lt;DamageEvent&gt; becomes Equal to 1.00&quot;.<ul>
<li data-xf-list-type="ul">Use the following custom variables to reference the event responses:<ul>
<li data-xf-list-type="ul">DamageEventSource - the unit dealing the damage</li>
<li data-xf-list-type="ul">DamageEventTarget - the unit getting damaged</li>
<li data-xf-list-type="ul">DamageEventAmount - how much damage is being dealt</li>
<li data-xf-list-type="ul">DamageEventAttackT - which attack type was used by DamageEventSource to damage DamageEventTarget</li>
<li data-xf-list-type="ul">DamageEventDamageT - which damage type was used to damage the target (ie. UNIVERSAL for ultimate damage, or NORMAL for damage that gets reduced by armor).</li>
<li data-xf-list-type="ul">DamageEventDefenseT - which defense type does the target unit have (ie. Hero, Fortified, Unarmored).</li>
<li data-xf-list-type="ul">DamageEventArmorT - which armor type does the target unit have (ie. Flesh, Ethereal, Stone).</li>
<li data-xf-list-type="ul">DamageEventPrevAmt - what the value of the damage was before being modified by armor, ethereal/item bonuses or user changes.<br />
.</li>
</ul></li>
</ul></li>
<li data-xf-list-type="ul">Q: How do I modify the damage that is dealt to a unit?</li>
<li data-xf-list-type="ul">A: Create a trigger with the event: &quot;Game - Value of Real Variable &lt;DamageModifierEvent&gt; becomes Equal to 1.00&quot;.<ul>
<li data-xf-list-type="ul">You can change the following variables to affect the damage that will be dealt:<ul>
<li data-xf-list-type="ul">DamageEventAmount - how much damage will be dealt (before armor reductions)</li>
<li data-xf-list-type="ul">DamageEventAttackT - which attack type will be used by DamageEventSource to damage DamageEventTarget</li>
<li data-xf-list-type="ul">DamageEventDamageT - which damage type will be used to damage the target.</li>
<li data-xf-list-type="ul">DamageEventDefenseT - which defense type should the target unit have during this attack.</li>
<li data-xf-list-type="ul">DamageEventArmorT - which armor type should the target unit have during this attack.</li>
<li data-xf-list-type="ul">DamageEventArmorPierced - how much armor value to ignore when dealing this damage (applies to DAMAGE_TYPE_NORMAL only, otherwise all armor is ignored).<br />
.</li>
</ul></li>
</ul></li>
</ul><br />
<ul>
<li data-xf-list-type="ul">Q: How do I deal Pure damage to a unit (bypassing armor/skipping user modification)?</li>
<li data-xf-list-type="ul">A: Use the following actions:<ul>
<li data-xf-list-type="ul">Set NextDamageType = DamageTypePure</li>
<li data-xf-list-type="ul">Unit - Cause Source to damage Target for Amount using attack type Spells and damage type Universal<br />
.</li>
</ul></li>
</ul><br />
<ul>
<li data-xf-list-type="ul">Q: How do I protect against recursive damage?</li>
<li data-xf-list-type="ul">A: Damage Engine 5.4 and above is completely recursion-proof, using vJass hooks to detect registered Damage Event triggers.<br />
.</li>
</ul><br />
<ul>
<li data-xf-list-type="ul">Q: I've been using &lt;insert Damage system here&gt;. Can I use those with Damage Engine?</li>
<li data-xf-list-type="ul">A: Better - Damage Engine has integrated cross-compatibility with all other approved Damage systems and even the major ones from outside of Hiveworkhop.<br />
.</li>
</ul><br />
<ul>
<li data-xf-list-type="ul">Q: Can I cause an attack to 'Miss' its target?</li>
<li data-xf-list-type="ul">A: Kind of. Ranged attacks will still explode on the target, and on-hit effects will still apply, but you can do the following:<ul>
<li data-xf-list-type="ul">Use the event &quot;DamageModifierEvent becomes Equal to 1.00&quot;</li>
<li data-xf-list-type="ul">Use the following actions:<ul>
<li data-xf-list-type="ul">Set DamageEventAmount = 0.00</li>
<li data-xf-list-type="ul">Set DamageEventArmorT = ARMOR_TYPE_NONE</li>
<li data-xf-list-type="ul">Set DamageEventWeaponT = WEAPON_TYPE_NONE</li>
</ul></li>
<li data-xf-list-type="ul">Setting the weapon type and armor type to none like the above will stop any on-hit sounds from playing. When the Peasant attacks in the demo map, this is the trick I'm using. Instead of saying &quot;MISSED!&quot; I have the Floating Text saying &quot;FAIL!&quot; because - again - it's not exactly a &quot;miss&quot;.</li>
</ul></li>
</ul></div>
		
			<div data-id="6" class=""><br />
Thank you to Blizzard for continuing to work on this amazing game to give us awesome new natives that have the best possible control over incoming damage. Damage Engine brings that power to GUI. Also, a very special thank you to @KILLCIDE for getting me motivated to start up the 5.0 project in the first place.<br />
<br />
Thank you to the users of this system who have helped me mold this project into the stable, powerful form it is in today!<br />
<br />
<i>For versions 3.8 and prior:</i><br />
<br />
Thank you @looking_for_help for finding the spell damage detection method used in Damage Engine 3 - it was the greatest find since the undefend bug.<br />
<br />
Thanks to Jesus4Lyf and @Nestharus for building the inspiration that originally led me to create DamageEngine.<br />
<br />
Thank you Wietlol and looking_for_help for challenging me on this project to integrate solutions to problems I had not been made aware of, such as the importance of an After-Damage Event.<br />
<br />
Thanks to @Spellbound for several crucial bug reports.<br />
</div>
		
	</div>
</div><br />
<br />



<div class="bbcode-tabs" data-xf-init="tabs-tag">
	<div class="titles">
		
			<h3 data-id="0" class="active">Damage Engine Config</h3>
		
			<h3 data-id="1" class="">Damage Engine vJass</h3>
		
			<h3 data-id="2" class="">Damage Engine Lua</h3>
		
			<h3 data-id="3" class="">Changelog</h3>
		
	</div>
	<div class="bodies">
		
			<div data-id="0" class="active"><br />



<ul class="bbcode-trigger" data-xf-init="trigger-tag">
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/base.gif" /><span>Damage Engine Config</span>
				
					<ul>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/joinminus.gif" class="expander" data-alternative="/styles/default/ratory/trigger_legacy/joinplus.gif" /><img src="/styles/default/ratory/trigger_legacy/events.gif" /><span>Events</span>
				
					<ul>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/line.gif" /><img src="/styles/default/ratory/trigger_legacy/joinbottom.gif" /><img src="/styles/default/ratory/trigger_legacy/folder.gif" /><span>Map initialization</span>
				
					</li>
				
		
		
	
		
		
			</ul>
			</li>
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/cond.gif" /><span>Conditions</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/joinbottomminus.gif" class="expander" data-alternative="/styles/default/ratory/trigger_legacy/joinbottomplus.gif" /><img src="/styles/default/ratory/trigger_legacy/actions.gif" /><span>Actions</span>
				
					<ul>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- New in Damage Engine 5.7 - you can use the below to automatically assign conditions --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Equal to - Same as no conditions, works as it always has --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Less than - Same as IsDamageAttack Equal to True --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Less than or equal to - Same as IsDamageMelee Equal to True --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Greater than or equal to - Same as IsDamageRanged Equal to True --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Greater than - Same as IsDamageSpell Equal to True --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Not Equal to - Same as IsDamageCode Equal to True --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- You can add extra classifications here if you want to differentiate between your triggered damage --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Use DamageTypeExplosive (or any negative value damage type) if you want a unit killed by that damage to explode --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- The pre-defined type Code might be set by Damage Engine if Unit - Damage Target is detected and the user didn&#039;t define a type of their own. --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- &quot;Pure&quot; is especially important because it overrides both the Damage Engine as well as WarCraft 3 damage modification. --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- I therefore gave the user &quot;Explosive Pure&quot; in case one wants to combine the functionality of the two. --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypePureExplosive = -2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeExplosive = -1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeCode = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypePure = 2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeHeal = 3</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeBlocked = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeReduced = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageTypeCriticalStrike = 6</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Added 25 July 2017 to allow detection of things like Bash or Pulverize or AOE spread --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageEventAOE = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageEventLevel = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- In-game World Editor doesn&#039;t allow Attack Type and Damage Type comparisons. Therefore I need to code them as integers into GUI --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_SPELLS = 0</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_NORMAL = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_PIERCE = 2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_SIEGE = 3</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_MAGIC = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_CHAOS = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ATTACK_TYPE_HERO = 6</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_UNKNOWN = 0</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_NORMAL = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_ENHANCED = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_FIRE = 8</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_COLD = 9</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_LIGHTNING = 10</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_POISON = 11</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_DISEASE = 12</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_DIVINE = 13</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_MAGIC = 14</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_SONIC = 15</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_ACID = 16</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_FORCE = 17</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_DEATH = 18</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_MIND = 19</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_PLANT = 20</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_DEFENSIVE = 21</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_DEMOLITION = 22</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_SLOW_POISON = 23</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_SPIRIT_LINK = 24</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_SHADOW_STRIKE = 25</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DAMAGE_TYPE_UNIVERSAL = 26</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- The below variables don&#039;t affect damage amount, but do affect the sound played --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- They also give important information about the type of attack used. --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- They can differentiate between ranged and melee for units who are both --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_NONE = 0</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Metal Light/Medium/Heavy --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_ML_CHOP = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MM_CHOP = 2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MH_CHOP = 3</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_ML_SLICE = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MM_SLICE = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MH_SLICE = 6</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MM_BASH = 7</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MH_BASH = 8</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MM_STAB = 9</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_MH_STAB = 10</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Wood Light/Medium/Heavy --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WL_SLICE = 11</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WM_SLICE = 12</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WH_SLICE = 13</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WL_BASH = 14</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WM_BASH = 15</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WH_BASH = 16</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WL_STAB = 17</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_WM_STAB = 18</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Claw Light/Medium/Heavy --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_CL_SLICE = 19</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_CM_SLICE = 20</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_CH_SLICE = 21</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Axe Medium --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_AM_CHOP = 22</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Rock Heavy --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet WEAPON_TYPE_RH_BASH = 23</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- Since GUI still doesn&#039;t provide Defense Type and Armor Types, I needed to include the below --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_NONE = 0</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_FLESH = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_METAL = 2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_WOOD = 3</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_ETHEREAL = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet ARMOR_TYPE_STONE = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_LIGHT = 0</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_MEDIUM = 1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_HEAVY = 2</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_FORTIFIED = 3</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_NORMAL = 4</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_HERO = 5</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_DIVINE = 6</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DEFENSE_TYPE_UNARMORED = 7</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageFilterAttackT = -1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/set.gif" /><span>Set VariableSet DamageFilterDamageT = -1</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/join.gif" /><img src="/styles/default/ratory/trigger_legacy/comment.gif" /><span>-------- - --------</span>
				
					</li>
				
		
		
	
		
			<li>
				<img src="/styles/default/ratory/trigger_legacy/empty.gif" /><img src="/styles/default/ratory/trigger_legacy/joinbottom.gif" /><img src="/styles/default/ratory/trigger_legacy/page.gif" /><span>Custom script:   call DamageEngine_DebugStr()</span>
				
					</li>
				
		
		
	
		
		
			</ul>
			</li>
		
	
		
		
			</ul>
			</li>
		
	
</ul></div>
		
			<div data-id="1" class=""><br />
<a href="https://github.com/BribeFromTheHive/DamageEngine/blob/master/script.j" target="_blank" class="link link--external" rel="nofollow ugc noopener">BribeFromTheHive/DamageEngine</a><br />
</div>
		
			<div data-id="2" class=""><br />
<a href="https://github.com/BribeFromTheHive/DamageEngine/blob/master/script.lua" target="_blank" class="link link--external" rel="nofollow ugc noopener">BribeFromTheHive/DamageEngine</a><br />
<br />
Lua 1.0.2.3 - Fixed to match adjustment made in vJass version 5.4.2.3.<br />
Lua 1.0.2.2 - Fixed to match adjustment made in vJass version 5.4.2.2.<br />
Lua 1.0.2.1 - Fixed to match adjustment made in vJass version 5.4.2.1.<br />
Lua 1.0.2.0 - Added support for Lua Fast Triggers (<a href="https://www.hiveworkshop.com/threads/lua-ridiculously-fast-triggers.317016/" class="link link--internal">[Lua] Ridiculously Fast Triggers</a>). Fixed an issue where the AfterDamageEvent wasn't always timed the correct way like it was in the JASS verion.<br />
Lua 1.0.1.0 - Fixed encapsulation issue and recursion issue with DamageEngine_inception. Now hooks UnitDamageTarget.<br />
Lua 1.0.0.0 - Release based on Damage Engine 5.4.2.0<br />
</div>
		
			<div data-id="3" class=""><br />
5.7.1.2 - Fixed an issue with armor penetration sometimes bugging out.<br />
5.7.1.1 - Fixed an issue with the eventFilter not retaining its value during an AOE event. Fixed an issue with eventFilter when USE_MELEE_RANGE was set to false. Both issues reported by @lolreported<br />
5.7.1.0 -<br />
<div style="margin-left: 20px">I have fixed several<i> potential</i> points of failure reported by multiple users that stopped Damage Engine from working for the rest of the game. In any case there should no longer be ANY SITUATION where Damage Engine just &quot;stops working&quot;, even in ways I can't predict. The most likely issue was with DamageScalingWC3/User having possible 0-division errors.<br />
<br />
Fixed the &quot;configured&quot; issue reported by @lolreported where manual configuration didn't work unless the damage and attack type checks were initialized tto -1.<br />
<br />
In addition to these fixed bugs, I have added several more static ifs so that advanced users have more control over getting rid of features they might not care about.&#8203;</div><br />
5.7.0.3 - Fixed the issue reported by @KitsuneTailsPrower wherein the DamageInterface extension wasn't working. This needed to be fixed both in the Damage Engine source as well as the DamageInterface plugin itself.<br />
5.7.0.2 - Fixed the issue reported by @Wazzz where the armor reduction wasn't taken into consideration. Actually there was a much bigger flaw that I had overlooked that was prompting this.<br />
5.7.0.1 - Improved the logic of the 0 damage event.<br />
5.7.0.0:<br />
<ul>
<li data-xf-list-type="ul">Usage of the &quot;DamageEvent becomes EQUAL to 1.00&quot; now can be extrapolated further than ever before:<ul>
<li data-xf-list-type="ul">EQUAL works as it always has.</li>
<li data-xf-list-type="ul">NOT EQUAL only runs for code damage.</li>
<li data-xf-list-type="ul">LESS THAN only runs for damage from attacks.</li>
<li data-xf-list-type="ul">LESS THAN OR EQUAL only runs for melee attacks.</li>
<li data-xf-list-type="ul">GREATER THAN OR EQUAL only runs for ranged attacks.</li>
<li data-xf-list-type="ul">GREATER THAN only runs for Spell damage.</li>
</ul></li>
<li data-xf-list-type="ul">Fully adapted Damage Engine to work with every other major DDS</li>
<li data-xf-list-type="ul">Rewrote the internal script to use vJass structs: Damage and DamageTrigger.</li>
<li data-xf-list-type="ul">Changed some of the vJass API. You can find the API listed in the Damage Engine trigger. Notably:<ul>
<li data-xf-list-type="ul">I removed UnitDamageTargetEx. You can replace this with Damage.apply.<ul>
<li data-xf-list-type="ul">The reason for this change is because of cross-compatibility. Rising Dusk's IDDS uses a different set of parameters for this function, so I removed it from my library to allow this to work seamlessly.</li>
</ul></li>
<li data-xf-list-type="ul">TriggerRegisterDamageEvent -&gt; TriggerRegisterDamageEngine</li>
<li data-xf-list-type="ul">RegisterDamageEvent -&gt; RegisterDamageEngine<ul>
<li data-xf-list-type="ul">The reason for the above two changes is, like for UnitDamageTargetEx, because Rising Dusk's IDDS uses them. I don't want to make the same mistake I did with Table's API and preferred to walk back my API choices before things got out of hand again.</li>
</ul></li>
</ul></li>
<li data-xf-list-type="ul">Various performance tweaks, bug fixes and re-commenting of variables.</li>
<li data-xf-list-type="ul">Recursive damage is now processed more intelligently and possibly be more performance-friendly.</li>
<li data-xf-list-type="ul">Adapted the cross-compatibility libraries for Weep and LFH's systems to use textmacros to insert themselves into Damage Engine (this might have been in the 5.6 update, but these two updates were both tailored to achieve similar goals).</li>
</ul>5.6.2.0 - Fixed a bug with Damage modification and laid groundwork for a bunch of optional vJass compatibility addons.<br />
5.6.1.0 - Patchwork on Melee/Ranged detection, recursion tracking. Also added the ability to modify damage from a DamageEvent to make it easier on beginners.<br />
5.6.0.1 - Fixed an issue where the DamageEventType for recursive damage that used NextDamageType would always default to DamageTypeCode.<br />
5.6.0.0<br />
<div style="margin-left: 20px">Rewrote a significant amount of the internal code so that struct and GUI syntax both work - and are synchronized with each other. vJass-exclusive users can disable the GUI synchronization if they don't use any GUI damage events in their maps.<br />
<br />
Four new variables must be added to your variable editor:<br />
<ul>
<li data-xf-list-type="ul">boolean NextDamageIsAttack</li>
<li data-xf-list-type="ul">boolean NextDamageIsMelee</li>
<li data-xf-list-type="ul">boolean NextDamageIsRanged</li>
<li data-xf-list-type="ul">integer NextDamageWeaponT</li>
</ul>Struct syntax should not need too much introduction - Damage.index is the triggering event ID, and the syntax is Damage.index.amount/source/target/etc. To initialize a JASS damage event, use:<br />
<br />
<pre style="margin: 1em 0">function RegisterDamageEvent takes code c, string eventName, real value returns nothing

The string is simplified: &quot;Modifier&quot;, &quot;&quot; (for simple DamageEvent), &quot;After&quot;, &quot;Lethal&quot;, &quot;AOE&quot;</pre><br />
Finally, a neat QOL improvement is that I have assigned weight to each of the events. When registering an event, you can include numbers different than 1, 2, 3 or 4 (for modification) or just the plain &quot;1&quot; for the others. Now you can set your own sequencing and use 1.5, 3.14 or even -1 to give an even more extreme priority to something. Lower numbers run first, higher ones last.<br />&#8203;</div>5.5.0.0 - Added support for the new native BlzGetEventIsAttack via &quot;IsDamageAttack&quot;. Also updated the Config trigger to make importing a bit easier<br />
5.4.2.3 - Fixed a mis-flag of the IsDamageSpell value when not being actual spell damage.<br />
5.4.2.2 - Actually fixed the Cold Arrows issue (division by 0.00001 or something ...somehow... either way, it is fixed).<br />
5.4.2.1 - A fix which should hopefully quell the recent reports of damage events failing in complex situations involving Cold Arrows.<br />
5.4.2.0 - A ton of fixes to repair the issues plaguing Sunken City and anyone else who might be pushing this engine well beyond what I imagined it would be used for. Also added a couple of variables intended to be used to ricochet damage: CONVERTED_ATTACK_TYPE and CONVERTED_DAMAGE_TYPE. Check the demo map for how they can be used in a Unit - Damage Target action.<br />
5.4.1.0 - The &quot;Inception&quot; update. Advanced users can interact with Damage Engine via custom script to set DamageEvent_inception = true to allow their damage to potentially go recursive (to a fixed extent).<br />
5.4.0.1 - Hotfixed that modifiers 2 and 3 weren't running.<br />
5.4.0.0 - By using an innovative approach of hooking TriggerRegisterVariableEvent, I've permanently eliminated all risks of recursion in the engine.<br />
5.3.0.1 - Fixed unexpected behavior with DamageTypePure when it is affected by Anti-Magic Shell or Mana Shield. DamageTypePure now no longer ignores DamageScalingWC3.<br />
5.3.0.0 - Fixed an issue with AfterDamageEvent sometimes being delayed. Added DamageScalingUser to track the ratio of user modified damage, as well as DamageEventArmorPierced which allows the user to define how much armor to ignore when working with DAMAGE_TYPE_NORMAL.<br />
5.2.0.1 - Fixed an issue where with the final unit in a Spirit Link chain or the retaliating damage of Thorns/Carapace would not deploy an AfterDamageEvent. Also fixed an issue where AfterDamageEvent would still fire from DAMAGE_TYPE_UNKNOWN if it was greater than 0. Simply copy over the JASS from this post in order to update your own implementation.<br />
5.2.0.0<br />
<ul>
<li data-xf-list-type="ul">Now features DamageEventArmorT and DamageEventDefenseT, which pull from the target unit's Object Editor data in order to allow you more complete access to detect and even MODIFY those defenses. Changes must be made in a DamageModifierEvent, and they are reverted as soon as armor is calculated.<br />
</li>
<li data-xf-list-type="ul">Re-introduced AfterDamageEvent, which is the moment after the unit's life is changed, but before any recursive damage has run.</li>
</ul><br />
5.1.3.1 - Bug fixes and performance improvements. No, really. Fixed an issue with the DAMAGED event running even though it was turned off (who would've guessed that?)<br />
5.1.3.0 - Engine re-tooling to improve accuracy and get Spirit Link/Defensive damage out of hardcoded mode - it will now work even in circumstances I haven't tested for (in case those weren't the only issues). Also fixed the Is Unit Moving resource.<br />
5.1.2.1 - Fixed an issue with Spiked Carapace and Thorns Aura where the melee attacker would not get recorded correctly. This required the same fix as I needed to apply for the initial target in a spirit link chain.<br />
5.1.2.0 - Tweaked recursion and fixed a few bugs. Re-introduced the zero damage event now that patch 1.31.1 brought it back.<br />
5.1.1.1 - Minor tweak to Spirit Link in rare situation.<br />
5.1.1.0 - Fixed issues related to Spirit Link. Now works intuitively as expected.<br />
5.1.0.0 - Crazy improvements - check out the details in &quot;How to upgrade from Damage Engine 4.0 or earlier&quot; and &quot;How to use Damage Engine 5.1&quot;<br />
5.0.0.0 - Oh man. Where do I even start?<br />
<ul>
<li data-xf-list-type="ul">You can now set/compare DamageEventDamageT, DamageEventAttackT or DamageEventWeaponT<br />
</li>
<li data-xf-list-type="ul">No longer needs Unit Indexer nor any custom Object Editor data nor modifications.</li>
<li data-xf-list-type="ul">Requires WarCraft 3 1.31 or higher.</li>
<li data-xf-list-type="ul">Changed vanilla JASS code to vJass to clean up a lot of things such as making certain variables private.</li>
<li data-xf-list-type="ul">Look for more details in &quot;How to upgrade from Damage Engine 4.0 or earlier&quot;</li>
</ul><br />
4.0.0.0 - Never officially released, but was the first iteration which used SetEventDamage.<br />
For 3.8.0.0 and prior, see: <a href="https://www.hiveworkshop.com/pastebin/894d2c076c67b006c00e4abe5fa27d0a18789/" class="link link--internal">Damage Engine 3.8.0.0 | HIVE</a><br />
</div>
		
	</div>
</div><br />
<br />
<b><u>Cross-Compatibility:<br />
</u></b><br />
<a href="https://github.com/BribeFromTheHive/DamageEngine/tree/master/Cross-Compatibility" target="_blank" class="link link--external" rel="nofollow ugc noopener">BribeFromTheHive/DamageEngine</a><br />
<br />
Keywords:unit indexer, damage detection, damage event, weep, nestharus, looking_for_help, EVENT_PLAYER_UNIT_DAMAGED, damage engine, spell, physical, EVENT_PLAYER_UNIT_DAMAGED, attacktype, damagetype, weapontype, armortype, defensetype, BlzSetEventDamage<br />
</span></p>
<p>Don't forget to credit the author.</p>
